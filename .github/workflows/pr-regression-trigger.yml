name: Selenium PR Gate

on:
  pull_request:
    branches:
      - DEV

jobs:
  set-pending-status:
    runs-on: ubuntu-latest
    steps:
      - name: Set Selenium status to pending
        uses: actions/github-script@v7
        with:
          script: |
            // Always use the latest PR head commit SHA
            const sha = context.payload.pull_request.head.sha;

            await github.rest.repos.createCommitStatus({
              owner: context.repo.owner,
              repo: context.repo.repo,
              sha: sha,
              state: "pending",
              context: "selenium-suite",   // ðŸ‘ˆ Required check name
              description: "Waiting for Selenium test execution..."
            });
