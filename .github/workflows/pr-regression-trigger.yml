# .github/workflows/run-regression.yml
name: Run Regression on Comment

on:
  issue_comment:
    types: [created]

jobs:
  trigger:
    if: |
      github.event.issue.pull_request &&
      contains(github.event.comment.body, '/run regression')
    runs-on: ubuntu-latest

    steps:
      - name: Trigger Selenium Repo
        uses: actions/github-script@v7
        with:
          script: |
            github.rest.repos.createDispatchEvent({
              owner: "your-org",
              repo: "selenium-tests",
              event_type: "run-regression",
              client_payload: {
                pr_repo: context.repo.repo,
                pr_owner: context.repo.owner,
                pr_number: context.issue.number,
                sha: context.payload.pull_request.head.sha
              }
            });
